<html>
<body>

<form>
    <input id="input" type="text" name="test"/>
    <a href="#" onclick="sendEvent(); return false;">send event</a>
</form>

<form id="aa" method="post" action="https://www.aa.com/login/loginSubmit.do">

</form>
<a href="#" onclick="sendAaForm(); return false;">send aa (test3) form</a>

<script type="text/javascript">

    function sendAaForm(){
        var form = document.getElementById('aa');
        var data = 'requestContextId=&previousPage=%2Floyalty%2Fprofile%2Fsummary&CurrentProcessId=&bookingPathStateId=&marketId=&discountCode=&uri=%2Flogin%2FloginAccess.do&seatPayment=&vpayment=&loginId=lllll&lastName=pppp&password=2345&_button_login=Log+in&lLeLZlULdSUQLO=kq%2BlPpCuYOipwhoOi4xL0kFgNvdHJwr3wnvKn8bSrZo4h1i4Av0Iz%2FvWS204PHx8yZfPAkSkHLcETL601O4ZpohImRTYzmR%2F3ddfwxZp8btPeiwctw%2FdJ852XVl%2Buh26gZ%2Fra2RzTgJyIGbwRNJycnULVYll%2FYN%2FqKfjTEqfSJQd0G2CtueZ7PiLQtXfK%2FkYFxkEI6r6Z4qJWWkcIzL6IaYWxgCFtYpjiOXGuf0OdEKOixQjOTqpU8eRuf36SaNrDNgJtiMRBE1qrI57RamQkaVgKHRMAXxi69TA7ShdXw3tO3pGSUC3KdMLV76xGxGYQ8q7ARBtoAPXipEPamlEzG6NBVUEpSmLwYVJr%2BgZrJKHVTNGH7LnqPc3g%2BWHLKeZYR5EOk8T4ChrYorrs5Ktvgjxz6Z98Cm04Eo8oPpD4QPLdz2jlTNN3wkM2hsMnLOeATh8MfgQDgG1exW3T0znhHlFVb68qmW%2BtV%2Byz1M3b7OGcGzxA3D6ilS8HSN%2BJGIf6eJ0CmbzB9NOXiX2jOurAlfzOMIs93ajqmNpZq6LINg75maRVwBj2R5i6Cv7m549eFPgDc9CslGdwDfkb5MO4CD2y1KJIaZUJNcR7z5rRxBuw94ExA0C1c8aW8MngWw%2FKFUFIg%3D%3D&__ss_hid_563e4c53cbd65b22c2ee3f8b282db825=7b536b5b55457b726a7e1e595c575c5e7f5219584c454c78535b511949544146445f4754&__ss_hid_062298cf723572bc2799c51d3b36ec7a=72694b456d5e5d516605040701090d535001070718010a545104030c0056070457035703005356034c&Qt0N7deXB5gTfLGC17sWZjvt=%7B%22a%22%3A%225%22%2C%22b%22%3A1%2C%22c%22%3A%5B572%2C0%5D%2C%22t%22%3A%5B%5B%22aa-loginForm.loginId%22%2C%22loginId%22%2C%22text%22%2C0%2C%22INPUT%22%5D%2C%5B%22aa-loginForm.lastName%22%2C%22lastName%22%2C%22text%22%2C0%2C%22INPUT%22%5D%2C%5B%22pwd%22%2C%22password%22%2C%22password%22%2C0%2C%22INPUT%22%5D%2C%5B%22%22%2C%22%22%2C%22%22%2C0%2C%22A%22%5D%2C%5B%22%22%2C%22_button_login%22%2C%22submit%22%2C0%2C%22INPUT%22%5D%5D%2C%22e%22%3A%5B%5B2%2C1440692924506%2C169%2C296%2C15%2C168%2C289%2C18%2C165%2C282%2C17%2C163%2C278%2C17%2C161%2C274%2C17%2C159%2C269%2C18%2C156%2C266%2C17%2C154%2C264%2C18%2C151%2C261%2C17%2C148%2C258%2C18%2C143%2C253%2C17%2C140%2C251%2C17%2C138%2C249%2C17%2C136%2C248%2C17%2C133%2C246%2C18%2C131%2C243%2C17%2C128%2C240%2C17%2C127%2C237%2C16%2C126%2C236%2C18%2C125%2C235%2C49%2C126%2C235%2C18%2C135%2C243%2C17%2C152%2C254%2C17%2C181%2C270%2C17%2C220%2C289%5D%2C%5B2%2C1440692924967%2C262%2C306%2C18%2C285%2C314%2C16%2C301%2C318%2C18%2C316%2C319%2C17%2C323%2C320%2C18%2C325%2C320%2C229%2C325%2C316%2C18%2C325%2C311%2C17%2C325%2C307%2C17%2C326%2C302%2C17%2C328%2C297%2C17%2C330%2C289%2C18%2C332%2C283%2C17%2C333%2C279%2C17%2C334%2C276%2C17%2C335%2C274%2C17%2C335%2C272%2C17%2C335%2C270%2C17%2C335%2C268%2C17%2C335%2C266%2C17%2C335%2C264%2C17%2C335%2C262%2C18%2C336%2C261%2C18%2C336%2C260%2C17%2C337%2C260%5D%2C%5B2%2C1440692926389%2C336%2C260%2C17%2C334%2C260%2C17%2C333%2C260%2C18%2C331%2C259%2C17%2C329%2C259%2C17%2C326%2C259%2C18%2C323%2C258%2C17%2C320%2C257%2C17%2C317%2C256%2C18%2C312%2C253%2C17%2C309%2C251%2C17%2C303%2C246%2C18%2C299%2C243%2C16%2C296%2C240%2C17%2C294%2C238%2C17%2C293%2C235%2C18%2C292%2C234%2C29%2C292%2C233%2C306%2C291%2C233%2C17%2C288%2C236%2C18%2C278%2C245%2C17%2C269%2C253%2C17%2C259%2C261%2C17%2C251%2C267%2C17%2C246%2C271%5D%2C%5B2%2C1440692927120%2C240%2C275%2C17%2C237%2C277%2C17%2C234%2C279%2C18%2C232%2C281%2C17%2C230%2C282%2C17%2C227%2C285%2C18%2C225%2C287%2C17%2C224%2C288%2C18%2C223%2C288%2C17%2C222%2C289%2C29%2C221%2C290%2C17%2C220%2C291%2C18%2C219%2C292%2C17%2C218%2C294%5D%2C%5B1%2C1440692927378%2C0%2C218%2C294%2C0%2C0%5D%2C%5B2%2C1440692927390%2C218%2C295%5D%2C%5B1%2C1440692927484%2C1%2C218%2C295%2C0%2C0%2C1%2C2%2C218%2C295%2C0%2C0%5D%2C%5B2%2C1440692927724%2C219%2C295%2C16%2C227%2C295%2C17%2C246%2C295%2C17%2C279%2C295%2C17%2C315%2C295%2C18%2C339%2C296%2C18%2C358%2C296%2C18%2C374%2C298%2C18%2C381%2C298%2C14%2C387%2C298%2C17%2C390%2C299%2C25%2C391%2C299%2C17%2C392%2C299%2C17%2C393%2C299%2C17%2C394%2C299%2C17%2C395%2C299%2C18%2C397%2C299%2C19%2C400%2C299%2C15%2C401%2C299%5D%2C%5B1%2C1440692928041%2C0%2C401%2C299%2C0%2C1%5D%2C%5B2%2C1440692928060%2C402%2C299%5D%2C%5B1%2C1440692928139%2C1%2C402%2C299%2C0%2C1%2C0%2C2%2C402%2C299%2C0%2C1%5D%2C%5B2%2C1440692928377%2C401%2C299%2C17%2C399%2C299%2C17%2C385%2C299%2C17%2C360%2C299%2C17%2C326%2C299%2C17%2C286%2C299%2C17%2C263%2C299%2C18%2C238%2C299%2C17%2C225%2C301%2C17%2C217%2C302%2C18%2C212%2C303%2C17%2C210%2C304%2C17%2C209%2C305%2C25%2C208%2C305%2C17%2C208%2C306%2C24%2C207%2C306%2C18%2C207%2C307%2C16%2C207%2C308%5D%2C%5B1%2C1440692928697%2C0%2C207%2C308%2C0%2C0%2C82%2C1%2C207%2C308%2C0%2C0%2C0%2C2%2C207%2C308%2C0%2C0%5D%2C%5B2%2C1440692928968%2C208%2C308%2C18%2C219%2C308%2C17%2C236%2C305%2C17%2C276%2C300%2C17%2C321%2C300%2C18%2C367%2C300%2C19%2C391%2C300%2C15%2C414%2C306%2C18%2C425%2C310%2C17%2C432%2C313%2C17%2C437%2C316%2C17%2C438%2C317%2C17%2C439%2C317%2C23%2C440%2C317%2C25%2C440%2C316%2C17%2C440%2C314%5D%2C%5B1%2C1440692929263%2C0%2C440%2C314%2C0%2C1%5D%2C%5B2%2C1440692929269%2C440%2C313%5D%2C%5B1%2C1440692929361%2C1%2C440%2C313%2C0%2C1%5D%2C%5B2%2C1440692929484%2C440%2C312%2C26%2C440%2C311%2C33%2C440%2C310%2C24%2C440%2C309%2C17%2C440%2C308%2C24%2C441%2C307%2C17%2C441%2C306%2C17%2C443%2C305%2C17%2C443%2C304%2C17%2C444%2C303%2C21%2C445%2C302%5D%2C%5B1%2C1440692929715%2C0%2C445%2C302%2C0%2C1%2C114%2C1%2C445%2C302%2C0%2C1%2C0%2C2%2C445%2C302%2C0%2C1%5D%2C%5B2%2C1440692930058%2C450%2C302%2C17%2C455%2C302%2C18%2C481%2C298%2C16%2C509%2C295%2C17%2C546%2C292%2C17%2C571%2C291%2C18%2C593%2C291%2C17%2C603%2C291%2C17%2C612%2C291%2C18%2C618%2C291%2C17%2C622%2C292%2C17%2C626%2C293%2C17%2C631%2C293%2C17%2C634%2C293%2C17%2C636%2C293%2C17%2C638%2C292%2C18%2C639%2C291%2C18%2C641%2C290%2C17%2C642%2C290%2C18%2C643%2C289%5D%2C%5B1%2C1440692930403%2C0%2C643%2C289%2C0%2C2%5D%2C%5B2%2C1440692930414%2C644%2C289%5D%2C%5B1%2C1440692930550%2C1%2C644%2C289%2C0%2C2%2C0%2C2%2C644%2C289%2C0%2C2%5D%2C%5B2%2C1440692930878%2C642%2C289%2C18%2C633%2C291%2C17%2C622%2C294%2C17%2C610%2C297%2C17%2C583%2C302%2C17%2C563%2C305%2C17%2C539%2C308%2C17%2C527%2C309%2C17%2C515%2C311%2C17%2C508%2C311%2C18%2C504%2C311%2C17%2C501%2C311%2C18%2C500%2C311%2C17%2C499%2C311%2C23%2C499%2C310%2C18%2C498%2C310%5D%2C%5B1%2C1440692931165%2C0%2C498%2C310%2C0%2C1%2C74%2C1%2C498%2C310%2C0%2C1%2C0%2C2%2C498%2C310%2C0%2C1%5D%2C%5B2%2C1440692931513%2C497%2C310%2C17%2C494%2C310%2C18%2C481%2C308%2C17%2C462%2C306%2C19%2C434%2C302%2C15%2C403%2C299%2C17%2C383%2C299%2C18%2C368%2C299%2C17%2C354%2C299%2C18%2C345%2C299%2C16%2C337%2C299%2C17%2C335%2C299%2C18%2C330%2C299%2C17%2C326%2C299%2C17%2C323%2C299%2C17%2C320%2C299%2C17%2C317%2C299%2C18%2C313%2C298%2C17%2C309%2C297%2C18%2C305%2C297%2C17%2C301%2C296%2C16%2C296%2C296%2C17%2C293%2C296%2C17%2C291%2C296%5D%2C%5B1%2C1440692931915%2C0%2C291%2C296%2C0%2C0%5D%2C%5B2%2C1440692931927%2C290%2C296%5D%2C%5B1%2C1440692932005%2C1%2C290%2C296%2C0%2C0%2C0%2C2%2C290%2C296%2C0%2C0%5D%2C%5B2%2C1440692933882%2C290%2C295%2C476%2C291%2C295%2C516%2C292%2C295%2C57%2C293%2C292%2C17%2C299%2C279%2C17%2C311%2C255%2C17%2C338%2C204%2C17%2C375%2C144%2C17%2C418%2C76%2C17%2C444%2C32%2C1696%2C433%2C7%2C17%2C425%2C20%2C16%2C417%2C37%2C18%2C402%2C66%2C21%2C388%2C90%2C15%2C375%2C112%2C16%2C360%2C135%2C17%2C347%2C154%2C18%2C338%2C166%2C17%2C335%2C170%2C17%2C334%2C171%2C263%2C334%2C170%2C123%2C334%2C172%2C17%2C333%2C174%2C18%2C331%2C179%5D%2C%5B2%2C1440692937339%2C329%2C183%2C18%2C328%2C187%2C17%2C327%2C189%2C16%2C326%2C191%2C18%2C326%2C192%2C21%2C326%2C193%2C318%2C326%2C194%2C81%2C326%2C195%2C468%2C326%2C194%2C73%2C326%2C193%2C19%2C327%2C193%2C55%2C327%2C192%2C41%2C328%2C192%2C5251%2C327%2C192%2C27%2C326%2C192%2C17%2C325%2C194%2C17%2C325%2C196%2C17%2C324%2C199%2C17%2C322%2C203%2C17%2C320%2C208%2C20%2C317%2C215%2C15%2C314%2C223%2C17%2C309%2C231%2C17%2C303%2C243%2C18%2C294%2C260%5D%2C%5B2%2C1440692943951%2C287%2C272%2C17%2C282%2C278%2C17%2C278%2C286%2C17%2C274%2C291%2C18%2C272%2C295%2C17%2C270%2C297%2C18%2C270%2C298%2C16%2C269%2C299%2C19%2C268%2C300%2C63%2C268%2C299%2C19%2C267%2C299%2C17%2C267%2C297%2C17%2C267%2C296%2C17%2C267%2C294%2C18%2C267%2C293%2C17%2C267%2C291%2C17%2C267%2C289%2C17%2C267%2C287%5D%2C%5B3%2C1440692944298%2C0%2C4%2C224%2C0%5D%2C%5B2%2C1440692944309%2C268%2C286%2C18%2C268%2C284%2C16%2C269%2C283%2C18%2C269%2C281%5D%2C%5B3%2C1440692944541%2C2%2C0%2C224%2C0%5D%2C%5B2%2C1440692955366%2C203%2C59%2C15%2C218%2C72%2C23%2C243%2C92%2C11%2C277%2C121%2C17%2C313%2C152%2C17%2C333%2C171%2C17%2C353%2C194%2C17%2C359%2C204%2C17%2C363%2C213%2C20%2C364%2C218%2C15%2C364%2C220%2C18%2C364%2C224%2C17%2C356%2C230%2C18%2C345%2C236%2C17%2C333%2C244%2C17%2C319%2C253%2C17%2C306%2C262%2C21%2C293%2C270%2C17%2C282%2C277%2C16%2C276%2C281%2C17%2C268%2C285%2C16%2C265%2C285%2C17%2C262%2C286%2C17%2C260%2C286%2C18%2C260%2C285%5D%2C%5B2%2C1440692955798%2C260%2C282%2C18%2C260%2C281%2C205%2C259%2C281%2C16%2C256%2C281%2C17%2C253%2C282%2C17%2C250%2C284%2C17%2C248%2C286%2C17%2C246%2C287%2C18%2C245%2C288%2C18%2C244%2C289%2C313%2C245%2C289%2C41%2C246%2C289%5D%2C%5B3%2C1440692956632%2C0%2C4%2C224%2C0%5D%2C%5B2%2C1440692956816%2C247%2C288%2C16%2C251%2C285%2C18%2C254%2C282%2C17%2C256%2C281%2C17%2C257%2C280%5D%2C%5B3%2C1440692956907%2C2%2C0%2C224%2C0%5D%2C%5B2%2C1440692960982%2C92%2C80%2C18%2C99%2C80%2C20%2C129%2C86%2C16%2C158%2C93%2C15%2C194%2C104%2C17%2C227%2C115%2C17%2C246%2C124%2C17%2C267%2C132%2C20%2C274%2C135%2C15%2C281%2C139%2C17%2C284%2C140%2C17%2C285%2C141%2C34%2C283%2C141%2C19%2C271%2C139%2C15%2C251%2C131%2C17%2C216%2C116%5D%2C%5B3%2C1440692961272%2C0%2C4%2C224%2C0%5D%2C%5B2%2C1440692961273%2C174%2C98%2C17%2C132%2C79%2C17%2C106%2C66%2C18%2C79%2C53%2C17%2C59%2C44%2C17%2C52%2C39%2C17%2C45%2C36%2C18%2C44%2C34%5D%2C%5B3%2C1440692961427%2C2%2C0%2C224%2C0%5D%2C%5B2%2C1440692962642%2C43%2C34%2C17%2C160%2C58%2C19%2C282%2C89%2C14%2C368%2C119%2C17%2C463%2C158%2C18%2C510%2C180%2C17%2C545%2C196%2C17%2C565%2C207%2C17%2C581%2C216%2C17%2C589%2C221%2C130%2C588%2C221%2C17%2C586%2C222%2C18%2C582%2C226%2C19%2C579%2C229%2C15%2C575%2C233%2C17%2C567%2C241%2C17%2C558%2C250%2C17%2C545%2C258%2C18%2C529%2C266%2C18%2C512%2C271%2C17%2C495%2C276%2C17%2C473%2C281%2C17%2C459%2C285%2C17%2C447%2C289%2C17%2C435%2C292%5D%2C%5B2%2C1440692963183%2C428%2C294%2C17%2C420%2C295%2C17%2C415%2C296%2C18%2C413%2C296%2C182%2C412%2C296%2C17%2C409%2C296%2C17%2C400%2C297%2C17%2C388%2C298%2C18%2C373%2C300%2C17%2C360%2C300%2C17%2C352%2C300%2C17%2C345%2C300%2C18%2C341%2C300%2C17%2C339%2C300%2C17%2C338%2C300%2C17%2C338%2C299%2C18%2C338%2C295%2C17%2C342%2C291%2C17%2C344%2C288%5D%2C%5B3%2C1440692965194%2C0%2C0%2C1%2C0%2C1%2C1%2C0%2C1%2C0%2C61%2C2%2C0%2C1%2C0%2C112%2C0%2C0%2C1%2C0%2C1%2C1%2C0%2C1%2C0%2C55%2C2%2C0%2C1%2C0%2C88%2C0%2C0%2C1%2C0%2C1%2C1%2C0%2C1%2C0%2C63%2C2%2C0%2C1%2C0%2C104%2C0%2C0%2C1%2C0%2C1%2C1%2C0%2C1%2C0%2C63%2C2%2C0%2C1%2C0%2C24%2C0%2C0%2C1%2C0%2C1%2C1%2C0%2C1%2C0%2C95%2C2%2C0%2C1%2C0%2C168%2C0%2C0%2C9%2C0%2C1%2C1%2C0%2C9%2C0%2C174%2C2%2C0%2C9%2C3%2C121%2C0%2C0%2C1%2C3%2C1%2C1%2C0%2C112%2C3%2C55%2C2%2C0%2C1%2C3%2C104%2C0%2C0%2C1%2C3%2C0%2C1%2C0%2C112%2C3%2C48%2C2%2C0%2C1%2C3%2C263%2C0%2C0%2C9%2C3%5D%2C%5B3%2C1440692966800%2C1%2C0%2C9%2C3%2C176%2C2%2C0%2C9%2C1%2C40%2C0%2C0%2C1%2C1%2C0%2C1%2C0%2C112%2C1%2C48%2C2%2C0%2C1%2C1%2C112%2C0%2C0%2C1%2C1%2C0%2C1%2C0%2C112%2C1%2C57%2C2%2C0%2C1%2C1%2C71%2C0%2C0%2C1%2C1%2C1%2C1%2C0%2C112%2C1%2C71%2C2%2C0%2C1%2C1%2C88%2C0%2C0%2C1%2C1%2C1%2C1%2C0%2C112%2C1%2C95%2C2%2C0%2C1%2C1%2C64%2C0%2C0%2C9%2C1%2C1%2C1%2C0%2C9%2C1%2C199%2C2%2C0%2C9%2C2%2C720%2C0%2C0%2C1%2C2%2C1%2C1%2C0%2C1%2C2%2C190%2C2%2C0%2C1%2C2%2C57%2C0%2C0%2C1%2C2%2C1%2C1%2C0%2C1%2C2%2C167%2C2%2C0%2C1%2C2%2C96%2C0%2C0%2C1%2C2%2C1%2C1%2C0%2C1%2C2%5D%2C%5B3%2C1440692969288%2C2%2C0%2C1%2C2%2C112%2C0%2C0%2C1%2C2%2C1%2C1%2C0%2C1%2C2%2C183%2C2%2C0%2C1%2C2%5D%2C%5B2%2C1440692970591%2C344%2C286%2C17%2C344%2C284%2C17%2C344%2C281%5D%2C%5B3%2C1440692970632%2C0%2C4%2C224%2C2%5D%2C%5B2%2C1440692970642%2C344%2C277%2C17%2C344%2C273%2C17%2C343%2C261%2C17%2C343%2C255%2C17%2C343%2C249%2C17%2C343%2C243%2C18%2C344%2C239%2C17%2C346%2C237%2C18%2C348%2C234%2C17%2C349%2C232%2C18%2C352%2C229%2C17%2C353%2C227%2C17%2C355%2C225%2C17%2C356%2C224%2C17%2C357%2C222%2C18%2C357%2C221%2C18%2C358%2C220%2C17%2C359%2C218%2C18%2C359%2C217%2C57%2C359%2C216%2C25%2C360%2C216%2C17%2C360%2C215%2C38%2C361%2C215%2C76%2C362%2C215%2C25%2C363%2C215%5D%2C%5B2%2C1440692971209%2C365%2C215%2C17%2C367%2C215%2C18%2C370%2C215%2C17%2C373%2C215%2C17%2C375%2C214%2C18%2C377%2C213%2C17%2C378%2C213%2C17%2C379%2C212%2C18%2C380%2C212%2C24%2C380%2C211%2C32%2C381%2C211%2C17%2C381%2C210%2C33%2C381%2C209%2C25%2C382%2C209%2C400%2C386%2C209%2C17%2C414%2C213%2C17%2C462%2C233%2C18%2C524%2C268%2C17%2C588%2C317%2C17%2C648%2C372%5D%2C%5B3%2C1440692971976%2C2%2C0%2C224%2C2%5D%2C%5B2%2C1440692971983%2C680%2C410%2C17%2C716%2C456%2C17%2C722%2C465%2C169%2C723%2C465%2C18%2C750%2C465%2C17%2C778%2C465%2C17%2C806%2C466%2C17%2C843%2C473%2C17%2C888%2C483%2C18%2C913%2C493%2C17%2C937%2C502%2C17%2C947%2C506%2C17%2C958%2C509%2C18%2C968%2C509%2C17%2C971%2C509%2C17%2C976%2C506%2C17%2C979%2C503%2C18%2C981%2C501%2C17%2C982%2C500%2C18%2C983%2C500%2C27%2C983%2C499%2C25%2C984%2C498%2C17%2C984%2C496%2C17%2C985%2C491%2C17%2C987%2C485%5D%2C%5B2%2C1440692972583%2C987%2C479%2C18%2C989%2C474%2C17%2C990%2C471%2C18%2C990%2C469%2C20%2C990%2C468%2C23%2C990%2C467%2C17%2C991%2C467%2C47%2C991%2C466%2C17%2C992%2C466%2C17%2C992%2C465%2C17%2C992%2C464%5D%2C%5B1%2C1440692972810%2C0%2C992%2C464%2C0%2C4%2C163%2C1%2C992%2C464%2C0%2C4%2C3%2C2%2C992%2C464%2C0%2C4%5D%5D%2C%22s%22%3A%5B%5D%2C%22pi%22%3A%22TQd95yXX%22%2C%22du%22%3A68257%2C%22g%22%3A%22http%3A%2F%2Fawardwallet.dev%2Fengine%2Faa%2Faa-login.html%22%7D';
        var pairs = data.split('&');
        for(n = 0; n < pairs.length; n++){
            pair = pairs[n].split('=');
            console.log(pair[0] + '=' + pair[1]);
            var input = document.createElement('input');
            input.type = 'hidden';
            input.name = pair[0];
            input.value = decodeURIComponent(pair[1]);
            //form[pair[0]] = decodeURIComponent(pair[1]);
            form.appendChild(input);
        }
        form.submit();
    }

    function dumpEvent(event){
        console.log(event);
        console.log("event type: " + typeof(event));
        console.log("dispatched type: " + typeof(event.dispatched));
        console.log("isTrusted type: " + typeof(event.isTrusted));
        console.log("isTrusted: " + event.isTrusted);
        console.log("fake: " + isEventFake(event));
    }

    document.getElementById('input').addEventListener('mousedown', dumpEvent);
    document.getElementById('input').addEventListener('keydown', dumpEvent);
    document.getElementById('input').addEventListener('keyup', dumpEvent);
    document.getElementById('input').addEventListener('keypress', dumpEvent);

    function sendEvent() {
        var event = document.createEvent("HTMLEvents");
        event.initEvent('mousedown', true, true);
        event.eventName = 'mousedown';
        var element = document.getElementById('input');
        dispatchEvent(element, event);
    }

    // add stack frame
    function dispatchEvent(element, event){
        element.dispatchEvent(event);
    }

    function isEventPropertyMissing (type, typeName, event, property) {
        if ("undefined" == typeof type)return !1;
        var obj = document.createEvent(typeName);
        return Object.prototype.hasOwnProperty.call(obj, property) != Object.prototype.hasOwnProperty.call(event, property)
    }

    function isEventFake(event) {
        if ("keyup" === event.type || "keypress" === event.type) {
            if (0 === event.charCode && 0 === event.keyCode)
                return 1;
            if ("undefined" != typeof KeyboardEvent && isEventPropertyMissing(KeyboardEvent, "KeyboardEvent", event, "keyCode"))
                return 1
        }
        if ("undefined" != typeof event.dispatched)
            return 1;
        if ("undefined" != typeof event.isTrusted) { // Firefox - event is send by user
            if (event.isTrusted === 0)
                return 1;
            if (isEventPropertyMissing(UIEvent, "UIEvent", event, "isTrusted")) {
                console.log('isTrusted missing');
                return 1
            }
        }
        // this will check that there are no more than two stack frames
        try {
            for (var n = 0, stopAt = 2, stackFrame = arguments.callee.caller; stackFrame;) {
                n++;
                if (n > stopAt)break;
                stackFrame = stackFrame.caller
            }
            console.log('stack length: ' + n);
            if (n > stopAt)return 1
        } catch (e) {
        }
        return "undefined" != typeof window.callPhantom
    }

//    setTimeout(function(){
//        sendEvent(event);
//    }, 1000);

</script>
</body>
</html>